<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <META NAME="Author" CONTENT="ARTER">
  <meta charset="utf-8" />
  <title>PWA 測試</title>
  <link href="/web/PWA_learn/static/img/icon.png" rel="shortcut icon">
  <link rel="manifest" href="/web/PWA_learn/manifest.json">
  <!-- CSS 樣式 -->
  <style type="text/css">

  </style>

  <!-- JavaScript -->
  <script>
        // 支援serviceWorker才存入sw.js檔
    if('serviceWorker' in navigator) {
      
      console.log("will service worker register?")
      // window load後才執行，以免增加頁面讀取的時間
      window.addEventListener('load', function() {
        
        // 建立sw.js
        navigator.serviceWorker.register('/web/PWA_learn/sw_home.js')
          .then(function(reg) {
            console.log(reg.scope); // 看這支sw.js執行的範圍
          })
          // 註冊失敗
          .catch(function(err) {
            console.log('error: ', err);
          });
       
        // 附上刪除sw.js的寫法
        /*navigator.serviceWorker.getRegistrations().then(function(reg) {
          for(var reg of reg) {
            reg.unregister()
          }
        });*/
        
      });
    }

  </script>
</head>
<body>
  <h2>PWA 測試</h2>
  <p>step 4 manifest.json favicon.ico</p>
  <!-- 網頁內文 -->
  <img src="static/img/dog.jpg" title="dog">
  <img src="static/img/cat.jpg" title="cat">

</body>
</html>
